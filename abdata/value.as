// —v‘fŒ^

#ifndef __ABSTRACT_DATA_STRUCTURE_VALUE_AS__
#define __ABSTRACT_DATA_STRUCTURE_VALUE_AS__

#include "mod_pvalptr.as"

#module abdata_value mValue

//##########################################################
//        \’zE‰ğ‘Ì
//##########################################################
#define global value_new(%1,%2=stt_zero@) newmod %1, abdata_value@, %2
#define global value_delete(%1)           delmod %1

//------------------------------------------------
// \’z
//------------------------------------------------
#modinit var p2
	value_setv thismod, p2
	return getaptr(thismod)
	
//------------------------------------------------
// ‰ğ‘Ì
//------------------------------------------------

//##########################################################
//        æ“¾Œn
//##########################################################
//------------------------------------------------
// ’l‚Ìæ“¾ ( –½—ßŒ`® )
//------------------------------------------------
#modfunc value_getv var p2
	p2 = mValue
	return
	
//------------------------------------------------
// QÆ‰» ( –½—ßŒ`® )
//------------------------------------------------
#modfunc value_dup var p2
	dup p2, mValue
	return
	
//##########################################################
//        ‘€ìŒn
//##########################################################
//------------------------------------------------
// ’l‚Ìİ’è ( •Ï” )
//------------------------------------------------
#modfunc value_setv var p2
	mValue = p2
	return
	
//------------------------------------------------
// ‰Â•Ï’·—v‘f‚ÌŠg’£
//------------------------------------------------
#modfunc value_memexpand int size
	memexpand mValue, size
	return
	
//##########################################################
//        G‘½Œn
//##########################################################
//------------------------------------------------
// —v‘f‚ÌŒ^‚ğæ“¾‚·‚é
//------------------------------------------------
#modcfunc value_vartype
	return vartype(mValue)
	
//------------------------------------------------
// —v‘f‚ÌŒ^‚ğ•ÏŠ·‚·‚é
// 
// @+ Œ³‚ÌŒ^‚Æ vt ‚ª“¯‚¶‚È‚ç•ÏŠ·‚µ‚È‚¢B
//------------------------------------------------
#modfunc value_changeVartype int vt
	if ( vartype(mValue) != vt ) {
		dimtype mValue, vt
	}
	return
	
#global

#endif
